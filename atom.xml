<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[六六博客]]></title>
  <link href="http://lovyliu.github.io/atom.xml" rel="self"/>
  <link href="http://lovyliu.github.io/"/>
  <updated>2018-04-20T00:01:54+08:00</updated>
  <id>http://lovyliu.github.io/</id>
  <author>
    <name><![CDATA[Lovy]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[git_ssh_key]]></title>
    <link href="http://lovyliu.github.io/blog/2018/04/19/git-ssh-key/"/>
    <updated>2018-04-19T23:47:08+08:00</updated>
    <id>http://lovyliu.github.io/blog/2018/04/19/git-ssh-key</id>
    <content type="html"><![CDATA[<h1>管理电脑上的多个ssh key</h1>

<p>为不同的网站（github、bitbucket、gitee）等：
<code>ssh-keygen -t rsa -C "yao.lu@sesamefin.com"</code></p>

<p>编辑<code>~/.ssh/config</code>文件</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>Host github.com
</span><span class='line'>  HostName github.com
</span><span class='line'>  IdentityFile ~/.ssh/id_rsa
</span><span class='line'>  PreferredAuthentications publickey
</span><span class='line'>  User 467097950@qq.com
</span><span class='line'>
</span><span class='line'>Host bitbucket.org
</span><span class='line'>  HostName bitbucket.org
</span><span class='line'>  IdentityFile ~/.ssh/id_rsa_sesame
</span><span class='line'>  PreferredAuthentications publickey
</span><span class='line'>  User yao.lu@sesamefin.com</span></code></pre></td></tr></table></div></figure>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[js_binary]]></title>
    <link href="http://lovyliu.github.io/blog/2018/04/19/js-binary/"/>
    <updated>2018-04-19T23:46:39+08:00</updated>
    <id>http://lovyliu.github.io/blog/2018/04/19/js-binary</id>
    <content type="html"><![CDATA[<h1>Javascript 中的二进制操作</h1>

<p>ECMAScrept中，所有的数值都以64位格式存储，但位操作符并不直接操作64位的值，而是先将64位的值转换成32位的整数，执行操作后再转回64位。因此看起来就像是只存在32位的整数一样。
32位中，前31位用于表示整数的值，第32位是符号位。0代表正数，1代表负数。
负数的存储形式是二进制补码。
求反码过程：
1. 求这个数的绝对值的二进制码。
2. 求二进制反码（按位取反）。
3. 反码+1。</p>

<h3>按位非 ～（返回数值的反码）</h3>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='Javascript'><span class='line'><span class="kd">var</span> <span class="nx">num1</span> <span class="o">=</span> <span class="mi">25</span><span class="p">;</span>          <span class="c1">// 00000000000000000000000000011001</span>
</span><span class='line'><span class="kd">var</span> <span class="nx">num2</span> <span class="o">=</span> <span class="o">~</span><span class="nx">num1</span><span class="p">;</span>  <span class="c1">//  11111111111111111111111111100110</span>
</span><span class='line'><span class="nx">alert</span><span class="p">(</span><span class="nx">num2</span><span class="p">);</span> <span class="c1">// -26</span>
</span></code></pre></td></tr></table></div></figure>


<p>按位非本质是：操作数的负值-1。</p>

<p>使用二进制操作是最底层的操作，速度更快。</p>

<h3>按位与 <code>&amp;</code></h3>

<h3>按位或 <code>|</code></h3>

<h3>按位异或 <code>^</code></h3>

<h3>左移 <code>&lt;&lt;</code> 所有位向左移动指定的位数，多出的空位用0填补。</h3>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='Javascript'><span class='line'><span class="mi">2</span> <span class="o">&lt;&lt;</span> <span class="mi">5</span> <span class="c1">// 64  二进制10 -&gt; 1000000</span>
</span></code></pre></td></tr></table></div></figure>


<p>相当于除以2的n次方，n为左移数</p>

<h3>有符号的右移 >> 数值向右移动指定的位数，保留符号位，多出的空位用符号位的值填补</h3>

<p>相当于乘以2的n次方，n为右移数</p>

<h3>无符号的右移 <code>&gt;&gt;&gt;</code> 所有位右移指定位数</h3>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[sass]]></title>
    <link href="http://lovyliu.github.io/blog/2018/04/19/sass/"/>
    <updated>2018-04-19T23:45:06+08:00</updated>
    <id>http://lovyliu.github.io/blog/2018/04/19/sass</id>
    <content type="html"><![CDATA[<h1>sass 语法</h1>

<h3>1. 嵌套写法</h3>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
</pre></td><td class='code'><pre><code class='css'><span class='line'><span class="nc">.page</span><span class="p">{</span>
</span><span class='line'>    <span class="o">.</span><span class="k">content</span><span class="err">{</span>
</span><span class='line'>        <span class="o">.</span><span class="k">left-side</span><span class="err">{</span>
</span><span class='line'>            <span class="o">.</span><span class="n">profile</span><span class="err">{</span>
</span><span class='line'>                <span class="o">.</span><span class="n">name</span><span class="err">{</span>
</span><span class='line'>                    <span class="k">font-size</span><span class="o">:</span> <span class="m">2</span><span class="n">rem</span><span class="p">;</span>
</span><span class='line'>                <span class="p">}</span>
</span><span class='line'>                <span class="nc">.age</span><span class="p">{</span>
</span><span class='line'>                    <span class="k">color</span><span class="o">:</span> <span class="nb">red</span><span class="p">;</span>
</span><span class='line'>                <span class="p">}</span>
</span><span class='line'>            <span class="err">}</span>
</span><span class='line'>        <span class="err">}</span>
</span><span class='line'>    <span class="err">}</span>
</span><span class='line'><span class="err">}</span>
</span><span class='line'>
</span><span class='line'><span class="c">/* SCSS 中还可以进行属性嵌套 */</span>
</span><span class='line'><span class="nc">.item-border</span> <span class="p">{</span>
</span><span class='line'>    <span class="k">border</span><span class="o">:</span> <span class="err">{</span>
</span><span class='line'>        <span class="n">style</span><span class="o">:</span> <span class="k">solid</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>        <span class="k">left</span><span class="o">:</span> <span class="err">{</span>
</span><span class='line'>            <span class="k">width</span><span class="o">:</span> <span class="m">1px</span><span class="p">;</span>
</span><span class='line'>            <span class="k">color</span><span class="o">:</span> <span class="nb">red</span><span class="p">;</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>        <span class="nt">right</span><span class="o">:</span> <span class="p">{</span>
</span><span class='line'>            <span class="k">width</span><span class="o">:</span> <span class="m">2px</span><span class="p">;</span>
</span><span class='line'>            <span class="k">color</span><span class="o">:</span> <span class="nb">blue</span><span class="p">;</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>    <span class="err">}</span>
</span><span class='line'><span class="err">}</span>
</span><span class='line'>
</span><span class='line'><span class="c">/* SCSS 对父选择器的引用 */</span>
</span><span class='line'><span class="nc">.btn</span> <span class="p">{</span>
</span><span class='line'>    <span class="k">color</span><span class="o">:</span> <span class="m">#ccc</span><span class="p">;</span>
</span><span class='line'>    <span class="o">&amp;:</span><span class="n">hover</span> <span class="err">{</span>
</span><span class='line'>        <span class="k">color</span><span class="o">:</span> <span class="nb">red</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>    <span class="o">&amp;</span><span class="nd">:visited</span> <span class="p">{</span>
</span><span class='line'>        <span class="k">color</span><span class="o">:</span> <span class="nb">blue</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'><span class="err">}</span>
</span></code></pre></td></tr></table></div></figure>


<h3>2. 把属性值定义成变量（可复用）</h3>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
</pre></td><td class='code'><pre><code class='css'><span class='line'><span class="k">@success-color</span><span class="o">:</span> <span class="nf">#ccc</span><span class="p">;</span>
</span><span class='line'><span class="nc">.success-bg</span><span class="p">{</span>
</span><span class='line'>  <span class="k">background</span><span class="o">:</span> <span class="err">$</span><span class="n">success</span><span class="o">-</span><span class="k">color</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="c">/* SCSS 可以使用+,-,*,/,%等数学操作符。并且如果变量是带单位的，例如px，也可以正确的进行运算 */</span>
</span><span class='line'><span class="nf">#navbar</span> <span class="p">{</span>
</span><span class='line'>    <span class="err">$</span><span class="n">navbar</span><span class="o">-</span><span class="k">width</span><span class="o">:</span> <span class="m">800px</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">width</span><span class="o">:</span> <span class="err">$</span><span class="n">navbar</span><span class="o">-</span><span class="k">width</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="c">/* 使用#{}符号可以将变量查到属性名，或者选择器中 */</span>
</span><span class='line'><span class="o">$</span><span class="nt">side</span><span class="o">:</span> <span class="nt">top</span><span class="o">;</span>
</span><span class='line'><span class="o">$</span><span class="nt">radius</span><span class="o">:</span> <span class="nt">10px</span><span class="o">;</span>
</span><span class='line'><span class="nc">.round-</span><span class="err">#</span><span class="p">{</span><span class="err">$</span><span class="n">side</span><span class="p">}</span> <span class="p">{</span>
</span><span class='line'>    <span class="k">border</span><span class="o">-</span><span class="err">#{$</span><span class="n">side</span><span class="p">}</span><span class="nt">-radius</span><span class="o">:</span> <span class="o">$</span><span class="nt">radius</span><span class="o">;</span>
</span><span class='line'>    <span class="nt">-moz-border-</span><span class="err">#</span><span class="p">{</span><span class="err">$</span><span class="n">side</span><span class="p">}</span><span class="nt">-radius</span><span class="o">:</span> <span class="o">$</span><span class="nt">radius</span><span class="o">;</span>
</span><span class='line'>    <span class="nt">-webkit-border-</span><span class="err">#</span><span class="p">{</span><span class="err">$</span><span class="n">side</span><span class="p">}</span><span class="nt">-radiux</span><span class="o">:</span> <span class="o">$</span><span class="nt">radius</span><span class="o">;</span>
</span><span class='line'><span class="err">}</span>
</span></code></pre></td></tr></table></div></figure>


<h3>3. 文件引入</h3>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='css'><span class='line'><span class="k">@import</span> <span class="s2">&quot;common&quot;</span><span class="p">;</span>
</span><span class='line'><span class="k">@import</span> <span class="s2">&quot;popup&quot;</span><span class="p">;</span>
</span><span class='line'><span class="o">...</span>
</span></code></pre></td></tr></table></div></figure>


<h3>4. mixin</h3>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
</pre></td><td class='code'><pre><code class='css'><span class='line'><span class="k">@mixin</span> <span class="nt">grey-border-radius</span><span class="p">{</span>
</span><span class='line'>    <span class="nt">border</span><span class="o">:</span> <span class="nt">1px</span> <span class="nt">solid</span> <span class="nf">#e3e3e3</span><span class="o">;</span>
</span><span class='line'>    <span class="nt">border-radius</span><span class="o">:</span> <span class="nt">2px</span><span class="o">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="nc">.description</span><span class="p">{</span>
</span><span class='line'>    <span class="o">@</span><span class="n">include</span> <span class="n">grey</span><span class="o">-</span><span class="k">border</span><span class="o">-</span><span class="n">radius</span><span class="p">;</span>
</span><span class='line'>    <span class="k">color</span><span class="o">:</span> <span class="nb">red</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="nc">.article</span><span class="p">{</span>
</span><span class='line'>    <span class="o">@</span><span class="n">include</span> <span class="n">grey</span><span class="o">-</span><span class="k">border</span><span class="o">-</span><span class="n">radius</span><span class="p">;</span>
</span><span class='line'>    <span class="k">color</span><span class="o">:</span> <span class="m">#444</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="c">/* mixin 可以传参数，并且可以给参数设置默认值*/</span>
</span><span class='line'><span class="k">@mixin</span> <span class="nt">round</span><span class="o">($</span><span class="nt">side</span><span class="o">,</span> <span class="o">$</span><span class="nt">radius</span><span class="o">:</span> <span class="nt">10px</span><span class="o">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="nt">border-</span><span class="err">#</span><span class="p">{</span><span class="err">$</span><span class="n">side</span><span class="p">}</span><span class="nt">-radius</span><span class="o">:</span> <span class="o">$</span><span class="nt">radius</span><span class="o">;</span>
</span><span class='line'>    <span class="nt">-moz-border-</span><span class="err">#</span><span class="p">{</span><span class="err">$</span><span class="n">side</span><span class="p">}</span><span class="nt">-radius</span><span class="o">:</span> <span class="o">$</span><span class="nt">radius</span><span class="o">;</span>
</span><span class='line'>    <span class="nt">-webkit-border-</span><span class="err">#</span><span class="p">{</span><span class="err">$</span><span class="n">side</span><span class="p">}</span><span class="nt">-radiux</span><span class="o">:</span> <span class="o">$</span><span class="nt">radius</span><span class="o">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="nf">#navbar</span> <span class="nt">li</span> <span class="p">{</span>
</span><span class='line'>    <span class="o">@</span><span class="n">include</span> <span class="n">round</span><span class="p">(</span><span class="k">top</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="nf">#footer</span> <span class="p">{</span>
</span><span class='line'>    <span class="o">@</span><span class="n">include</span> <span class="n">round</span><span class="p">(</span><span class="k">top</span><span class="o">,</span> <span class="m">5px</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<h3>5. 继承</h3>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='css'><span class='line'><span class="nc">.base-nav</span> <span class="p">{</span>
</span><span class='line'>    <span class="k">color</span><span class="o">:</span> <span class="nb">red</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="nc">.new-nav</span> <span class="p">{</span>
</span><span class='line'>    <span class="o">@</span><span class="n">extend</span> <span class="o">.</span><span class="n">base</span><span class="o">-</span><span class="n">nav</span><span class="p">;</span>
</span><span class='line'>    <span class="k">text-align</span><span class="o">:</span> <span class="k">center</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<h3>6. 控制语句</h3>

<p><code>@if</code> <code>@else</code></p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='css'><span class='line'><span class="o">$</span><span class="nt">navbar-width</span><span class="o">:</span> <span class="nt">800px</span><span class="o">;</span>
</span><span class='line'><span class="o">$</span><span class="nt">item</span><span class="o">:</span> <span class="nt">5</span><span class="o">;</span>
</span><span class='line'><span class="nt">p</span> <span class="p">{</span>
</span><span class='line'>    <span class="o">@</span><span class="n">if</span> <span class="err">$</span><span class="n">navbar</span><span class="o">-</span><span class="k">width</span><span class="o">/</span><span class="err">$</span><span class="n">item</span> <span class="o">-</span> <span class="m">10px</span> <span class="o">==</span> <span class="m">200</span> <span class="err">{</span> <span class="k">border</span><span class="o">:</span> <span class="m">2px</span> <span class="k">dotted</span><span class="p">;</span> <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">@else</span> <span class="p">{</span> <span class="nt">border</span><span class="o">:</span> <span class="nt">1px</span> <span class="nt">solid</span><span class="o">;</span> <span class="p">}</span>
</span><span class='line'><span class="err">}</span>
</span></code></pre></td></tr></table></div></figure>


<p><code>@for</code></p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='css'><span class='line'><span class="k">@for</span> <span class="o">$</span><span class="nt">i</span> <span class="nt">from</span> <span class="nt">1</span> <span class="nt">to</span> <span class="nt">5</span> <span class="p">{</span>
</span><span class='line'>    <span class="nc">.border-</span><span class="err">#</span><span class="p">{</span><span class="err">$</span><span class="n">i</span><span class="p">}</span> <span class="p">{</span>
</span><span class='line'>        <span class="k">border</span><span class="o">:</span> <span class="err">#{$</span><span class="n">i</span><span class="p">}</span><span class="nt">px</span> <span class="nt">solid</span> <span class="nt">blue</span><span class="o">;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'><span class="err">}</span>
</span></code></pre></td></tr></table></div></figure>


<p><code>@while</code></p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='css'><span class='line'><span class="o">$</span><span class="nt">i</span><span class="o">:</span> <span class="nt">1</span><span class="o">;</span>
</span><span class='line'><span class="k">@while</span> <span class="o">$</span><span class="nt">i</span> <span class="o">&lt;</span> <span class="nt">5</span> <span class="p">{</span>
</span><span class='line'>    <span class="nc">.border-</span><span class="err">#</span><span class="p">{</span><span class="err">$</span><span class="n">i</span><span class="p">}{</span><span class="k">border</span><span class="o">:</span> <span class="err">#{$</span><span class="n">i</span><span class="p">}</span><span class="nt">px</span> <span class="nt">solid</span> <span class="nt">blue</span><span class="o">;</span> <span class="p">}</span>
</span><span class='line'>    <span class="o">$</span><span class="nt">i</span><span class="o">:</span> <span class="o">$</span><span class="nt">i</span> <span class="o">+</span> <span class="nt">1</span><span class="o">;</span>
</span><span class='line'><span class="err">}</span>
</span></code></pre></td></tr></table></div></figure>


<p><code>@each</code></p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='css'><span class='line'><span class="o">$</span><span class="nt">i</span><span class="o">:</span> <span class="nt">1</span><span class="o">;</span>
</span><span class='line'><span class="k">@each</span> <span class="o">$</span><span class="nt">item</span> <span class="nt">in</span> <span class="nt">add</span><span class="o">,</span> <span class="nt">update</span><span class="o">,</span> <span class="nt">remove</span><span class="o">,</span> <span class="nt">share</span> <span class="p">{</span>
</span><span class='line'>    <span class="nc">.icon-</span><span class="err">#</span><span class="p">{</span><span class="err">$</span><span class="n">item</span><span class="p">}</span> <span class="p">{</span>
</span><span class='line'>        <span class="k">background-image</span><span class="o">:</span> <span class="sx">url(&quot;/image/#{$item}.jpg&quot;)</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<h3>7. 自定义函数</h3>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='CSS'><span class='line'><span class="k">@function</span> <span class="nt">double</span><span class="o">($</span><span class="nt">n</span><span class="o">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="k">@return</span> <span class="o">$</span><span class="nt">n</span> <span class="o">*</span> <span class="nt">2</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="nf">#navbar</span> <span class="p">{</span>
</span><span class='line'>    <span class="k">width</span><span class="o">:</span> <span class="k">double</span><span class="p">(</span><span class="m">5px</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<h4>参考链接</h4>

<ul>
<li><a href="http://sass-lang.com/">sass 官网</a></li>
<li><a href="https://juejin.im/entry/5a44404a51882560b6529af0">前端CSS的工程化——掌握Sass这四大特性就够了</a></li>
<li><a href="http://www.imbeta.cn/sassyong-fa-jie-shao.html#sassyong-fa-jie-shao">SASS用法介绍</a></li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[gulp]]></title>
    <link href="http://lovyliu.github.io/blog/2018/04/19/gulp/"/>
    <updated>2018-04-19T23:16:42+08:00</updated>
    <id>http://lovyliu.github.io/blog/2018/04/19/gulp</id>
    <content type="html"><![CDATA[<h1>Gulp! 一小时从入门到 <del>放&hellip;</del> 精通</h1>

<h3>安装</h3>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>npm install -g gulp //全局安装
</span><span class='line'>
</span><span class='line'>npm install --save-dev gulp //本地安装</span></code></pre></td></tr></table></div></figure>


<h3>gulpfile.js</h3>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="kd">var</span> <span class="nx">gulp</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;gulp&#39;</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'><span class="nx">gulp</span><span class="p">.</span><span class="nx">task</span><span class="p">(</span><span class="s1">&#39;mini&#39;</span><span class="p">,</span><span class="kd">function</span><span class="p">(){</span>
</span><span class='line'>  <span class="c1">// ...</span>
</span><span class='line'><span class="p">});</span>
</span></code></pre></td></tr></table></div></figure>


<p>命令行运行 <code>gulp mini</code>
如果 task 名为<code>default</code>，可直接执行gulp</p>

<h3>pipe() 管道</h3>

<h3>src</h3>

<p> 用于产生数据流，参数为符合所提供的匹配模式（glob）或者匹配模式的数组的文件。
glob模式: 匹配路径与文件的模式，类似正则表达式。</p>

<ul>
<li><code>*</code> 0-多个任意字符</li>
<li><code>？</code> 任意1个字符</li>
<li><code>[...]</code> 该路径段中在指定范围内字符</li>
<li><code>!(pattern|pattern|pattern)</code> 匹配除所给出的模型以外的情况</li>
<li><code>?(pattern|pattern|pattern)</code> 匹配所给出的模型中的 0 个或任意 1 个</li>
<li><code>+(pattern|pattern|pattern)</code> 匹配所给出的模型中的 1 个或者多个</li>
<li><code>*(pattern|pattern|pattern)</code> 匹配所给出的模型中的 0 个或多个或任意个的组合</li>
<li><code>@(pattern|pat*|pat?erN)</code> 匹配所给出的模型中的任意 1 个</li>
<li><code>**</code> 不仅匹配路径中的某一段,而且可以匹配 <code>a/b/c</code> 这样带有 / 的内容，所以，它还可以匹配子文件夹下的文件</li>
</ul>


<h3>dest</h3>

<p>将管道的输出写入文件，而且这些输出还可以继续输出（目录不存在，会新建）</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="nx">gulp</span><span class="p">.</span><span class="nx">src</span><span class="p">(</span><span class="s1">&#39;./client/templates/*.jade&#39;</span><span class="p">)</span>
</span><span class='line'>  <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">jade</span><span class="p">())</span>
</span><span class='line'>  <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">gulp</span><span class="p">.</span><span class="nx">dest</span><span class="p">(</span><span class="s1">&#39;./build/templates&#39;</span><span class="p">))</span>
</span><span class='line'>  <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">minify</span><span class="p">())</span>
</span><span class='line'>  <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">gulp</span><span class="p">.</span><span class="nx">dest</span><span class="p">(</span><span class="s1">&#39;./build/minified_templates&#39;</span><span class="p">));</span>
</span></code></pre></td></tr></table></div></figure>


<p><code>dest()</code> 可以接收对象作为第二个参数</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="p">{</span>
</span><span class='line'> <span class="err"> </span><span class="nx">cwd</span><span class="o">:</span> <span class="s1">&#39;...&#39;</span><span class="p">,</span> <span class="c1">// 写入路径的基准目录</span>
</span><span class='line'> <span class="err"> </span><span class="nx">mode</span><span class="o">:</span> <span class="s1">&#39;...&#39;</span> <span class="c1">// 权限</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<h3>task</h3>

<p>用于定义任务，第一个参数是任务名，第二个参数是任务函数。其中有一个可选参数，参数为任务名，在当前任务执行前执行。</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="nx">gulp</span><span class="p">.</span><span class="nx">task</span><span class="p">(</span><span class="s1">&#39;watch&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;sass&#39;</span><span class="p">],</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
</span><span class='line'>    <span class="c1">// ...</span>
</span><span class='line'><span class="p">});</span>
</span></code></pre></td></tr></table></div></figure>


<h3>watch</h3>

<p>用于指定需要监视符合所提供的匹配模式（glob）或者匹配模式的数组的文件。一旦这些文件发生变动，就运行指定任务。</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="nx">gulp</span><span class="p">.</span><span class="nx">task</span><span class="p">(</span><span class="s1">&#39;watch&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
</span><span class='line'>   <span class="nx">gulp</span><span class="p">.</span><span class="nx">watch</span><span class="p">(</span><span class="s1">&#39;templates/*.tmpl.html&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;build&#39;</span><span class="p">]);</span>
</span><span class='line'><span class="p">});</span>
</span></code></pre></td></tr></table></div></figure>


<h3>gulp 插件</h3>

<p><code>gulp-rename</code>: 文件重命名</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="kd">var</span> <span class="nx">rename</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&quot;gulp-rename&quot;</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// rename via string</span>
</span><span class='line'><span class="nx">gulp</span><span class="p">.</span><span class="nx">src</span><span class="p">(</span><span class="s2">&quot;./src/main/text/hello.txt&quot;</span><span class="p">)</span>
</span><span class='line'>  <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">rename</span><span class="p">(</span><span class="s2">&quot;main/text/ciao/goodbye.md&quot;</span><span class="p">))</span>
</span><span class='line'>  <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">gulp</span><span class="p">.</span><span class="nx">dest</span><span class="p">(</span><span class="s2">&quot;./dist&quot;</span><span class="p">));</span> <span class="c1">// ./dist/main/text/ciao/goodbye.md</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// rename via function</span>
</span><span class='line'><span class="nx">gulp</span><span class="p">.</span><span class="nx">src</span><span class="p">(</span><span class="s2">&quot;./src/**/hello.txt&quot;</span><span class="p">)</span>
</span><span class='line'>  <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">rename</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">path</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="nx">path</span><span class="p">.</span><span class="nx">dirname</span> <span class="o">+=</span> <span class="s2">&quot;/ciao&quot;</span><span class="p">;</span>
</span><span class='line'>    <span class="nx">path</span><span class="p">.</span><span class="nx">basename</span> <span class="o">+=</span> <span class="s2">&quot;-goodbye&quot;</span><span class="p">;</span>
</span><span class='line'>    <span class="nx">path</span><span class="p">.</span><span class="nx">extname</span> <span class="o">=</span> <span class="s2">&quot;.md&quot;</span>
</span><span class='line'>  <span class="p">}))</span>
</span><span class='line'>  <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">gulp</span><span class="p">.</span><span class="nx">dest</span><span class="p">(</span><span class="s2">&quot;./dist&quot;</span><span class="p">));</span> <span class="c1">// ./dist/main/text/ciao/hello-goodbye.md</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// rename via hash</span>
</span><span class='line'><span class="nx">gulp</span><span class="p">.</span><span class="nx">src</span><span class="p">(</span><span class="s2">&quot;./src/main/text/hello.txt&quot;</span><span class="p">,</span> <span class="p">{</span> <span class="nx">base</span><span class="o">:</span> <span class="nx">process</span><span class="p">.</span><span class="nx">cwd</span><span class="p">()</span> <span class="p">})</span>
</span><span class='line'>  <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">rename</span><span class="p">({</span>
</span><span class='line'>    <span class="nx">dirname</span><span class="o">:</span> <span class="s2">&quot;main/text/ciao&quot;</span><span class="p">,</span>
</span><span class='line'>    <span class="nx">basename</span><span class="o">:</span> <span class="s2">&quot;aloha&quot;</span><span class="p">,</span>
</span><span class='line'>    <span class="nx">prefix</span><span class="o">:</span> <span class="s2">&quot;bonjour-&quot;</span><span class="p">,</span>
</span><span class='line'>    <span class="nx">suffix</span><span class="o">:</span> <span class="s2">&quot;-hola&quot;</span><span class="p">,</span>
</span><span class='line'>    <span class="nx">extname</span><span class="o">:</span> <span class="s2">&quot;.md&quot;</span>
</span><span class='line'>  <span class="p">}))</span>
</span><span class='line'>  <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">gulp</span><span class="p">.</span><span class="nx">dest</span><span class="p">(</span><span class="s2">&quot;./dist&quot;</span><span class="p">));</span> <span class="c1">// ./dist/main/text/ciao/bonjour-aloha-hola.md</span>
</span><span class='line'>
</span><span class='line'>  <span class="c1">// process.cwd() 当前工作目录</span>
</span></code></pre></td></tr></table></div></figure>


<p><code>gulp-uglify</code>: 文件压缩</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="nx">gulp</span><span class="p">.</span><span class="nx">task</span><span class="p">(</span><span class="s1">&#39;js-uglify&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
</span><span class='line'>    <span class="nx">gulp</span><span class="p">.</span><span class="nx">src</span><span class="p">([</span><span class="s1">&#39;./www/js/vendor.js&#39;</span><span class="p">,</span> <span class="s1">&#39;./www/js/app.join.js&#39;</span><span class="p">])</span>
</span><span class='line'>        <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">uglify</span><span class="p">())</span>
</span><span class='line'>        <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">gulp</span><span class="p">.</span><span class="nx">dest</span><span class="p">(</span><span class="s1">&#39;./www/js&#39;</span><span class="p">));</span>
</span><span class='line'><span class="p">});</span>
</span></code></pre></td></tr></table></div></figure>


<p><code>gulp-sass</code>: 编译sass</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="nx">gulp</span><span class="p">.</span><span class="nx">task</span><span class="p">(</span><span class="s1">&#39;sass&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">done</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="nx">gulp</span><span class="p">.</span><span class="nx">src</span><span class="p">(</span><span class="s1">&#39;./scss/ionic.app.scss&#39;</span><span class="p">)</span>
</span><span class='line'>        <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">sass</span><span class="p">())</span>
</span><span class='line'>        <span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;error&#39;</span><span class="p">,</span> <span class="nx">sass</span><span class="p">.</span><span class="nx">logError</span><span class="p">)</span>
</span><span class='line'>        <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">gulp</span><span class="p">.</span><span class="nx">dest</span><span class="p">(</span><span class="s1">&#39;./www/css/&#39;</span><span class="p">))</span>
</span><span class='line'>        <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">cleanCss</span><span class="p">({</span>
</span><span class='line'>            <span class="nx">keepSpecialComments</span><span class="o">:</span> <span class="mi">0</span>
</span><span class='line'>        <span class="p">}))</span>
</span><span class='line'>        <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">rename</span><span class="p">({</span><span class="nx">extname</span><span class="o">:</span> <span class="s1">&#39;.min.css&#39;</span><span class="p">}))</span>
</span><span class='line'>        <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">gulp</span><span class="p">.</span><span class="nx">dest</span><span class="p">(</span><span class="s1">&#39;./www/css/&#39;</span><span class="p">))</span>
</span><span class='line'>        <span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;end&#39;</span><span class="p">,</span> <span class="nx">done</span><span class="p">);</span>
</span><span class='line'><span class="p">});</span>
</span><span class='line'>
</span><span class='line'><span class="nx">gulp</span><span class="p">.</span><span class="nx">task</span><span class="p">(</span><span class="s1">&#39;watch&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;sass&#39;</span><span class="p">],</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
</span><span class='line'>    <span class="nx">gulp</span><span class="p">.</span><span class="nx">watch</span><span class="p">(</span><span class="nx">paths</span><span class="p">.</span><span class="nx">sass</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;sass&#39;</span><span class="p">]);</span>
</span><span class='line'><span class="p">});</span>
</span></code></pre></td></tr></table></div></figure>


<p><code>gulp-clean-css</code>: 压缩 CSS 文件</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="nx">gulp</span><span class="p">.</span><span class="nx">task</span><span class="p">(</span><span class="s1">&#39;sass&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">done</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="nx">gulp</span><span class="p">.</span><span class="nx">src</span><span class="p">(</span><span class="s1">&#39;./scss/ionic.app.scss&#39;</span><span class="p">)</span>
</span><span class='line'>        <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">sass</span><span class="p">())</span>
</span><span class='line'>        <span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;error&#39;</span><span class="p">,</span> <span class="nx">sass</span><span class="p">.</span><span class="nx">logError</span><span class="p">)</span>
</span><span class='line'>        <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">gulp</span><span class="p">.</span><span class="nx">dest</span><span class="p">(</span><span class="s1">&#39;./www/css/&#39;</span><span class="p">))</span>
</span><span class='line'>        <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">cleanCss</span><span class="p">({</span>
</span><span class='line'>            <span class="nx">keepSpecialComments</span><span class="o">:</span> <span class="mi">0</span>
</span><span class='line'>        <span class="p">}))</span>
</span><span class='line'>        <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">rename</span><span class="p">({</span><span class="nx">extname</span><span class="o">:</span> <span class="s1">&#39;.min.css&#39;</span><span class="p">}))</span>
</span><span class='line'>        <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">gulp</span><span class="p">.</span><span class="nx">dest</span><span class="p">(</span><span class="s1">&#39;./www/css/&#39;</span><span class="p">))</span>
</span><span class='line'>        <span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;end&#39;</span><span class="p">,</span> <span class="nx">done</span><span class="p">);</span>
</span><span class='line'><span class="p">});</span>
</span></code></pre></td></tr></table></div></figure>


<p><code>gulp-imagemin</code>: 压缩jpg、png、gif等图片</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="nx">gulp</span><span class="p">.</span><span class="nx">task</span><span class="p">(</span><span class="s1">&#39;default&#39;</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span>
</span><span class='line'>    <span class="nx">gulp</span><span class="p">.</span><span class="nx">src</span><span class="p">(</span><span class="s1">&#39;src/images/*&#39;</span><span class="p">)</span>
</span><span class='line'>        <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">imagemin</span><span class="p">())</span>
</span><span class='line'>        <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">gulp</span><span class="p">.</span><span class="nx">dest</span><span class="p">(</span><span class="s1">&#39;dist/images&#39;</span><span class="p">))</span>
</span><span class='line'><span class="p">);</span>
</span><span class='line'>
</span><span class='line'><span class="p">...</span>
</span><span class='line'><span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">imagemin</span><span class="p">([</span>
</span><span class='line'>    <span class="nx">imagemin</span><span class="p">.</span><span class="nx">gifsicle</span><span class="p">({</span><span class="nx">interlaced</span><span class="o">:</span> <span class="kc">true</span><span class="p">}),</span>
</span><span class='line'>    <span class="nx">imagemin</span><span class="p">.</span><span class="nx">jpegtran</span><span class="p">({</span><span class="nx">progressive</span><span class="o">:</span> <span class="kc">true</span><span class="p">}),</span>
</span><span class='line'>    <span class="nx">imagemin</span><span class="p">.</span><span class="nx">optipng</span><span class="p">({</span><span class="nx">optimizationLevel</span><span class="o">:</span> <span class="mi">5</span><span class="p">}),</span>
</span><span class='line'>    <span class="nx">imagemin</span><span class="p">.</span><span class="nx">svgo</span><span class="p">({</span>
</span><span class='line'>        <span class="nx">plugins</span><span class="o">:</span> <span class="p">[</span>
</span><span class='line'>            <span class="p">{</span><span class="nx">removeViewBox</span><span class="o">:</span> <span class="kc">true</span><span class="p">},</span>
</span><span class='line'>            <span class="p">{</span><span class="nx">cleanupIDs</span><span class="o">:</span> <span class="kc">false</span><span class="p">}</span>
</span><span class='line'>        <span class="p">]</span>
</span><span class='line'>    <span class="p">})</span>
</span><span class='line'><span class="p">]))</span>
</span></code></pre></td></tr></table></div></figure>


<ul>
<li><code>gifsicle</code> — Compress GIF images</li>
<li><code>jpegtran</code> — Compress JPEG images</li>
<li><code>optipng</code> — Compress PNG images</li>
<li><code>svgo</code> — Compress SVG images</li>
</ul>


<p><code>gulp-angular-templatecache</code>:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="kd">var</span> <span class="nx">templateCache</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;gulp-angular-templatecache&#39;</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'><span class="nx">gulp</span><span class="p">.</span><span class="nx">task</span><span class="p">(</span><span class="s1">&#39;default&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
</span><span class='line'>  <span class="k">return</span> <span class="nx">gulp</span><span class="p">.</span><span class="nx">src</span><span class="p">(</span><span class="s1">&#39;templates/**/*.html&#39;</span><span class="p">)</span>
</span><span class='line'>    <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">templateCache</span><span class="p">({</span><span class="nx">stadalone</span><span class="o">:</span><span class="kc">true</span><span class="p">}))</span> <span class="c1">// 不创建新的angular module</span>
</span><span class='line'>    <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">gulp</span><span class="p">.</span><span class="nx">dest</span><span class="p">(</span><span class="s1">&#39;public&#39;</span><span class="p">));</span>
</span><span class='line'><span class="p">});</span>
</span></code></pre></td></tr></table></div></figure>


<p>把templates下的所有html文件保存到public/templates.js中</p>

<p><code>gulp-inject</code></p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="c1">// 添加templates.js的引用到index.html</span>
</span><span class='line'><span class="nx">gulp</span><span class="p">.</span><span class="nx">task</span><span class="p">(</span><span class="s1">&#39;inject-templates&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">done</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="nx">gulp</span><span class="p">.</span><span class="nx">src</span><span class="p">(</span><span class="s1">&#39;./www/index.html&#39;</span><span class="p">)</span>
</span><span class='line'>        <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">inject</span><span class="p">(</span><span class="nx">gulp</span><span class="p">.</span><span class="nx">src</span><span class="p">(</span><span class="s1">&#39;./www/js/templates.js&#39;</span><span class="p">,</span> <span class="p">{</span><span class="nx">read</span><span class="o">:</span> <span class="kc">false</span><span class="p">}),</span> <span class="p">{</span><span class="nx">relative</span><span class="o">:</span> <span class="kc">true</span><span class="p">}))</span>
</span><span class='line'>        <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">gulp</span><span class="p">.</span><span class="nx">dest</span><span class="p">(</span><span class="s1">&#39;./www&#39;</span><span class="p">))</span>
</span><span class='line'>        <span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;end&#39;</span><span class="p">,</span> <span class="nx">done</span><span class="p">);</span>
</span><span class='line'><span class="p">});</span>
</span></code></pre></td></tr></table></div></figure>


<p><code>gulp-useref</code></p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="c1">// 合并index.html中引用的需要合并的js和css文件</span>
</span><span class='line'><span class="nx">gulp</span><span class="p">.</span><span class="nx">task</span><span class="p">(</span><span class="s1">&#39;useref&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">done</span><span class="p">){</span>
</span><span class='line'>    <span class="kd">var</span> <span class="nx">assets</span> <span class="o">=</span> <span class="nx">useref</span><span class="p">.</span><span class="nx">assets</span><span class="p">();</span>
</span><span class='line'>    <span class="nx">gulp</span><span class="p">.</span><span class="nx">src</span><span class="p">(</span><span class="s1">&#39;./www/index.html&#39;</span><span class="p">)</span>
</span><span class='line'>        <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">assets</span><span class="p">)</span>
</span><span class='line'>        <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">assets</span><span class="p">.</span><span class="nx">restore</span><span class="p">())</span>
</span><span class='line'>        <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">useref</span><span class="p">())</span>
</span><span class='line'>        <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">gulp</span><span class="p">.</span><span class="nx">dest</span><span class="p">(</span><span class="s1">&#39;./www&#39;</span><span class="p">))</span>
</span><span class='line'>        <span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;end&#39;</span><span class="p">,</span> <span class="nx">done</span><span class="p">);</span>
</span><span class='line'><span class="p">});</span>
</span></code></pre></td></tr></table></div></figure>


<p><code>gulp-ng-annotate</code></p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="kd">var</span> <span class="nx">ngAnnotate</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;gulp-ng-annotate&#39;</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// 严格依赖注入</span>
</span><span class='line'><span class="nx">gulp</span><span class="p">.</span><span class="nx">task</span><span class="p">(</span><span class="s1">&#39;annotate&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
</span><span class='line'>    <span class="k">return</span> <span class="nx">gulp</span><span class="p">.</span><span class="nx">src</span><span class="p">([</span><span class="s1">&#39;./www/js/vendor.js&#39;</span><span class="p">,</span> <span class="s1">&#39;./www/js/app.join.js&#39;</span><span class="p">])</span>
</span><span class='line'>        <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">ngAnnotate</span><span class="p">({</span><span class="nx">single_quotes</span><span class="o">:</span><span class="kc">true</span><span class="p">}))</span>
</span><span class='line'>        <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">gulp</span><span class="p">.</span><span class="nx">dest</span><span class="p">(</span><span class="s1">&#39;./www/js&#39;</span><span class="p">));</span>
</span><span class='line'><span class="p">});</span>
</span></code></pre></td></tr></table></div></figure>


<p><code>fs</code> 和 <code>path</code> node.js 模块</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="kd">var</span> <span class="nx">fs</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;fs&#39;</span><span class="p">);</span>
</span><span class='line'><span class="kd">var</span> <span class="nx">path</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;path&#39;</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'><span class="kd">var</span> <span class="nx">ionicDir</span> <span class="o">=</span> <span class="nx">path</span><span class="p">.</span><span class="nx">resolve</span><span class="p">(</span><span class="nx">__dirname</span><span class="p">,</span> <span class="s2">&quot;./www/lib/ionic&quot;</span><span class="p">);</span>
</span><span class='line'><span class="c1">// 将一系列路径或路径段解析为绝对路径</span>
</span><span class='line'>
</span><span class='line'><span class="nx">fs</span><span class="p">.</span><span class="nx">existsSync</span><span class="p">()</span> <span class="c1">//判断是否存在目录</span>
</span><span class='line'><span class="nx">fs</span><span class="p">.</span><span class="nx">readdirSync</span><span class="p">()</span> <span class="c1">//读取目录</span>
</span><span class='line'><span class="nx">fs</span><span class="p">.</span><span class="nx">lstatSync</span><span class="p">()</span> <span class="c1">//文件信息</span>
</span><span class='line'><span class="nx">fs</span><span class="p">.</span><span class="nx">rmdirSync</span><span class="p">()</span> <span class="c1">//删除空文件夹</span>
</span><span class='line'><span class="nx">fs</span><span class="p">.</span><span class="nx">unlinkSync</span><span class="p">()</span> <span class="c1">//删除文件</span>
</span></code></pre></td></tr></table></div></figure>


<h3>参考链接</h3>

<p><a href="https://juejin.im/post/593cf6efac502e006b3e2bc0">gulp入门</a></p>

<p><a href="https://github.com/gulpjs/gulp">gulp官方文档</a></p>
]]></content>
  </entry>
  
</feed>
